<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Neverkas">
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Lineas de comando (Parte 2) - Manu Docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../../css/bootstrap.min.css" rel="stylesheet" />
  <link href="../../css/extra.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Lineas de comando (Parte 2)";
    var mkdocs_page_input_path = "guia-de-linux/guia-linux-parte-2.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Manu Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">Off Topic</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../aboutme/">About me</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Guia de Emacs</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../guia-de-emacs/guia-emacs/">Empezando con Emacs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../guia-de-emacs/guia-emacs-spacemacs/">Avanzando con Spacemacs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../guia-de-emacs/guia-emacs-modo-org/">Integrando el Modo Org</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../guia-de-emacs/guia-emacs-magit/">Integrando Git con MAGIT</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Guia de Linux</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../guia-linux-parte-1/">Lineas de comando (Parte 1)</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Lineas de comando (Parte 2)</a>
    <ul class="current">
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../guia-linux-problemas-comunes/">Problemas frecuentes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../guia-linux-personalizar/">Personalizar el Sistema</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../guia-linux-3/">Configuraciones</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../guia-linux-particionamiento/">Particionamiento</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../guia-linux-vagrant-ansible/">Vagrant y Ansible</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../guia-linux-gestores-de-paquetes/">Gestores de paquetes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../guia-linux-expresiones-regulares/">Expresiones Regulares</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../linux-configuracion-de-red/">Configuración de Red</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Nuevas Guias</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../guia-git/">Guia de Git</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../virtualbox/">Configurando Virtualbox</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../navegadores-web-extensiones-utiles/">Extensiones utiles para los Navegadores Web</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Manu Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Guia de Linux &raquo;</li>
        
      
    
    <li>Lineas de comando (Parte 2)</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/neverkas/manu-doc/edit/master/docs/guia-de-linux/guia-linux-parte-2.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="guia-de-linux-lineas-de-comando-parte-2">Guia de Linux - Lineas de comando (Parte-2)</h1>
<p><img src="/images/linux-terminal.png"></p>
<h1 id="1-tareas-procesos">1. Tareas &amp;&amp; Procesos</h1>
<blockquote>
<p>Los <strong>procesos</strong> son programas que se pueden estar ejecutando o no. Estos procesos se los llama <strong>tarea</strong> en caso de que se esten corriendo en el sistema.</p>
<p>Las <strong>tareas</strong> se pueden iniciar tanto en <strong>primer plano</strong> (foreground) como en <strong>segundo plano</strong> (background). En el primer caso, se puede dar si se ejecuta la tarea desde la terminal, esta tomará el control de la consola y solo se podra hacer uso de la terminal cuando la tarea finalize o que nosotros la finalizemos. En el segundo caso, permiten utilizar la terminal mientras la tarea se está ejecutando.</p>
</blockquote>
<h2 id="11-iniciar-tareas">1.1 Iniciar tareas</h2>
<h3 id="111-iniciar-una-tarea-en-primer-plano">1.1.1 Iniciar una tarea en primer plano</h3>
<blockquote>
<p>Esta tarea se va a seguir ejecutando hasta que se finalice desde la interfáz gráfica de ese programa, o si se finaliza desde la terminal, hasta tanto no se puede usar esa terminal para otros comandos.</p>
</blockquote>
<pre><code class="bash">firefox # inicia el navegador firefox en primer plano
</code></pre>

<h3 id="112-iniciar-una-tarea-en-segundo-plano">1.1.2 Iniciar una tarea en segundo plano</h3>
<blockquote>
<p>En segundo plano se pueden agregar aquellas que no necesitan interactuar con la consola, es como un "esconder" mientras se ejecutan.</p>
</blockquote>
<pre><code class="bash">firefox &amp; # inicia el navegador firefox en segundo plano
tar -cvzf fotos.tar.gz fotos &amp; # comprimir los archivos de la carpeta fotos
</code></pre>

<blockquote>
<p>Observación: Sólo se necesita de agregar el <strong>&amp;</strong> seguido de nombre del programa</p>
</blockquote>
<h3 id="113-evitar-imprimir-mensajes-de-una-tarea-que-esta-segundo-plano">1.1.3 Evitar imprimir  mensajes de una tarea que está segundo plano</h3>
<blockquote>
<p>Con el comando <strong>nohup</strong> podemos seguir utilizando la terminal, sin que aparezcan los mensajes que generan los programas que tenemos en segundo plano.</p>
</blockquote>
<pre><code class="bash">nohup mkdocs serve &amp; # corre el programa &quot;mkdocs&quot; en segundo plano, y no mostrará los mensajes
</code></pre>

<h2 id="114-pasar-una-tarea-a-primer-o-segundo-plano">1.1.4 Pasar una tarea a primer o segundo plano</h2>
<blockquote>
<p>A veces puede ocurrir que se desee alternar</p>
</blockquote>
<pre><code class="bash">fg numeroTarea # pasa una tarea a primer plano
fg numeroTarea # pasa la tarea a segundo plano
</code></pre>

<h2 id="12-ver-procesos-y-tareas">1.2 Ver procesos y tareas</h2>
<blockquote>
<p>Con el comando <strong>jobs</strong> podemos conocer las tareas que se ejecutan en segundo plano desde la terminal que tenemos abierta. Este nos detallará el <strong>número de proceso</strong>(important para luego detenerlo), su <strong>estado de ejecución</strong>.</p>
<p>Con el comando <strong>ps</strong> nos mostrará todas las tareas (dispone de varios parametros que personalizan la información)</p>
</blockquote>
<p>Algunas referencias a las columnas del listado de procesos:</p>
<table class="table">
<thead>
<tr>
<th align="left">Columna</th>
<th align="left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">pid</td>
<td align="left">Identificador del proceso</td>
</tr>
<tr>
<td align="left">tty</td>
<td align="left">Identifica la terminal donde esta corriendo</td>
</tr>
<tr>
<td align="left">comm</td>
<td align="left">Es el comando que se ejecutó en la terminal</td>
</tr>
<tr>
<td align="left">etime</td>
<td align="left">Cantidad de tiempo en ejecución</td>
</tr>
<tr>
<td align="left">%mem</td>
<td align="left">Cuanto ocupa en memoria</td>
</tr>
<tr>
<td align="left">%cpu</td>
<td align="left">Cuanto utiliza del procesador</td>
</tr>
</tbody>
</table>
<p>Otras referencias de los parámetros para el comando <strong>ps</strong> que lista los procesos:</p>
<table class="table">
<thead>
<tr>
<th align="center">Parámetro</th>
<th align="left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">a</td>
<td align="left">Muestra los procesos que tienen una terminal controladora</td>
</tr>
<tr>
<td align="center">x</td>
<td align="left">Muestra los procesos que "no" tienen una terminal controladora</td>
</tr>
<tr>
<td align="center">f</td>
<td align="left">Muestra las relaciones padre/hijo entre los procesos</td>
</tr>
</tbody>
</table>
<pre><code class="bash">jobs # devuelve una lista con las tareas en ejecución en la terminal actual
ps   # devuelve todas las tareas 
</code></pre>

<h3 id="121-obtener-solo-el-numero-de-proceso">1.2.1 Obtener solo el número de proceso</h3>
<blockquote>
<p>Suelo optar por <strong>pgrep</strong> seguido del nombre del proceso, que es mas sencillo.
Aunque también de una más extensa sería con <strong>ps</strong> para listar los procesos, con filtrar el proceso con <strong>grep</strong> y retornar la columna del PID con <strong>awk</strong></p>
</blockquote>
<pre><code class="bash">pgrep | nombreTarea     # devuelve el numero de id del un proceso
ps | grep nombreTarea | awk '{print $1}' # también devuelve el numero de id del proceso
</code></pre>

<h3 id="122-obtener-solo-algunos-datos-de-los-procesos">1.2.2 Obtener solo algunos datos de los procesos</h3>
<blockquote>
<p>En caso de querer saber solo algunas de las columnas de <strong>ps</strong> podemos usar el parametro <strong>eo</strong> seguido de las columnas. 
Algunos campos podrian ser</p>
</blockquote>
<pre><code class="bash">ps -eo pid,comm,etime # mostrará la columna del identificador, el comando, y tiempo en ejecución
</code></pre>

<blockquote>
<p><strong>Observación:</strong> Es importante que las columnas este separadas por coma sin espacios.</p>
</blockquote>
<h3 id="123-ordenar-los-procesos-por-algun-campo">1.2.3 Ordenar los procesos por algun campo</h3>
<blockquote>
<p>Para esto necesitamos del parametro <strong>--sort</strong> seguido de los campos que utilizamos como criterio para ordenar</p>
</blockquote>
<pre><code class="bash">ps -eo pid,comm,etime,%cpu --sort=-%mem | head 
</code></pre>

<blockquote>
<p><strong>Observación:</strong> Si queres visualizar la cabecera de los campos, agregar <strong>head</strong></p>
</blockquote>
<h3 id="124-mostrar-procesos-padres-e-hijos">1.2.4 Mostrar procesos padres e hijos</h3>
<blockquote>
<p>A veces es importante conocer si un proceso depende de varios es decir al detener este sus procesos hijos también.</p>
</blockquote>
<pre><code class="bash">ps --forest # muestra los procesos padres e hijos
</code></pre>

<h2 id="13-detener-una-tarea-en-ejecucion">1.3 Detener una tarea en ejecución</h2>
<blockquote>
<p>Si la tara está en <strong>primer plano</strong> podriamos usar el atajo <strong>CTRL+Z</strong></p>
<p>Si la tarea está en <strong>segundo plano</strong>, utilizaremos el comando <strong>kill</strong> seguido del numero de proceso o el PID que lo identifica.</p>
</blockquote>
<pre><code class="bash">kill %1     # detiene el proceso numero 1
</code></pre>

<blockquote>
<p><strong>Observación:</strong> Al utilizar el % va seguido del número de proceso, caso contrario agregar el PID del proceso</p>
</blockquote>
<h2 id="14-guardar-un-proceso-dependiente-de-una-terminal">1.4 Guardar un proceso dependiente de una terminal</h2>
<blockquote>
<p>Con el comando <strong>disown</strong> se puede guardar un proceso que está corriendo en <strong>segundo plano</strong> sobre una terminal, y si la misma se cierra el proceso no se interrumpirá.
Como argumento se le puede pasar el <strong>PID</strong> ó el número de proceso precedido por el <strong>%</strong></p>
</blockquote>
<p>Opción 1, con el comando <strong>pgrep</strong>:</p>
<pre><code class="bash">nohup mkdocs serve&amp; # ejecuto el programa en segundo plano, y oculto sus mensajes
pgrep mkdocs        # busco el PID del proceso
disown 3003         # le paso PID para guardarlo
</code></pre>

<p>Opción 2, con el comando <strong>ps</strong>:</p>
<pre><code class="bash">nohup mkdocs serve&amp; # ejecuto el programa en segundo plano, y oculto sus mensajes
ps -ax | grep mkdocs # busco el PID
disown 3003          # le paso el PID (si es que fuese 3003)
</code></pre>

<h2 id="15-practicando-procesos-tareas">1.5 Practicando procesos, tareas</h2>
<pre><code>firefox &amp; ; chrome &amp; # corro en segundo plano ambos navegadores web

jobs                 # verifico el numero de proceso de ambos, y si estan corriendo
kill %1          # detengo el que tenga el número de proceso 1

ps -a | grep chrome  # verifico el PID del programa, suponiendo que firefox se detuvo
kill 3021            # detengo el proceso con PID 3021 (suponiendo que es chrome)

</code></pre>

<hr />
<h2 id="2-sincronizar-directorios">2 Sincronizar directorios</h2>
<blockquote>
<p>El comando <strong>rsync</strong> cumple un rol fundamental para copiar, mover archivos y carpetas, se dice que es aún más rápido que utilizar <strong>cp</strong> ó <strong>scp</strong> ya que comprime los archivos antes de transferirlos.</p>
</blockquote>
<p>Algunos de los parámetros son:</p>
<table class="table">
<thead>
<tr>
<th align="left">Parámetro</th>
<th align="left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">a</td>
<td align="left">Modo archivo</td>
</tr>
<tr>
<td align="left">v</td>
<td align="left">Modo Verboso - Muestra el información durante la transferencia</td>
</tr>
<tr>
<td align="left">q</td>
<td align="left">Modo Silencioso - No muestra la información que se transfiere</td>
</tr>
<tr>
<td align="left">z</td>
<td align="left">Comprimir datos al transferir</td>
</tr>
<tr>
<td align="left">h</td>
<td align="left">Humaniza los valores de transferencia</td>
</tr>
</tbody>
</table>
<h2 id="21-copiar-un-directorio-local-a-otro">2.1 Copiar un directorio local a otro</h2>
<pre><code class="bash">$ rysnc -vazh directorio1/ directorio2/ # Copia todo lo del directorio1 al directorio2
</code></pre>

<h3 id="22-transferir-todos-los-archivos-de-un-directorio-local-a-un-servidor">2.2 Transferir todos los archivos de un directorio local a un servidor</h3>
<pre><code class="bash">$ rysnc -vazh carpeta/* host1:pruebas/ # transferir a un servidor
</code></pre>

<h3 id="23-transferir-un-directorio-local-a-un-servidor-pasandole-usuario">2.3 Transferir un directorio local a un servidor pasandole usuario</h3>
<pre><code class="bash">$ rysnc -vazh directorio2/ usuario:host2:fotos/ # transferir a un servidor pasando usuario
</code></pre>

<h3 id="24-transferir-desde-un-servidor-a-la-maquina-local">2.4 Transferir desde un servidor a la maquina local</h3>
<pre><code class="bash">$ rysnc -vazh admin:192.168.92.1:/srv/fotos /home/juan/carpeta # transferir desde el servidor a la maquina local
</code></pre>

<h3 id="24-transfencia-segura-con-ssh-desde-el-servidor-a-maquina-local">2.4 Transfencia segura con ssh desde el servidor a máquina local</h3>
<blockquote>
<p>A diferencia del resto se agrega el parámetro <strong>e</strong> y <strong>ssh</strong></p>
</blockquote>
<pre><code class="bash">$ rysnc -vazh -e ssh admin@192.168.92.1:/srv/fotos /home/juan/fotos
</code></pre>

<h3 id="24-simular-transferencia-de-archivos">2.4 Simular transferencia de archivos</h3>
<blockquote>
<p>Si queremos probar en caso de errores podemos utilizar <strong>--dry-run</strong></p>
</blockquote>
<pre><code class="bash">$ rysnc -vazh --dry-run directorio1/ directorio2/ # Copia todo lo del directorio1 al directorio2
</code></pre>

<h1 id="referencia">Referencia</h1>
<ul>
<li>Documentación sobre rsyncm, Linux.die <a href="https://linux.die.net/man/1/rsync">Ver Página</a></li>
<li>Conociendo el comando rsync, LinuxTechi <a href="https://www.linuxtechi.com/rsync-command-examples-linux/">Ver Página</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../guia-linux-problemas-comunes/" class="btn btn-neutral float-right" title="Problemas frecuentes">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../guia-linux-parte-1/" class="btn btn-neutral" title="Lineas de comando (Parte 1)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/neverkas/manu-doc/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../guia-linux-parte-1/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../guia-linux-problemas-comunes/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../js/jquery-3.5.0.min.js" defer></script>
      <script src="../../js/customize.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
